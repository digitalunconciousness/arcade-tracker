{% extends "base.html" %}

{% block content %}
<h1>Maintenance Record for {{ game.name }}</h1>

<form method="POST">
    <input type="hidden" name="csrf_token" value="{{ csrf_token() }}"/>
    <div class="form-group">
        <label for="issue_description">Issue Description *</label>
        <textarea id="issue_description" name="issue_description" rows="4" required placeholder="Describe the problem or maintenance needed..."></textarea>
    </div>
    
    <div class="form-group">
        <label for="fix_description">Possible Diagnosis / Initial Assessment</label>
        <textarea id="fix_description" name="fix_description" rows="3" placeholder="What do you think might be wrong? Initial troubleshooting notes..."></textarea>
        <small style="color: var(--text-secondary); font-size: 12px;">This can be updated later as work progresses</small>
    </div>
    
    <div class="form-group">
        <label for="cost">Estimated Cost ($)</label>
        <input type="number" id="cost" name="cost" step="0.01" min="0" placeholder="Estimated cost (can be updated later)">
        <small style="color: var(--text-secondary); font-size: 12px;">Rough estimate - will be updated when work is completed</small>
    </div>
    
    <div class="form-group">
        <label for="technician">Assigned Technician</label>
        <input type="text" id="technician" name="technician" placeholder="Who should work on this?">
    </div>
    
    <div class="form-group">
        <label for="status">Initial Status *</label>
        <select id="status" name="status" required>
            <option value="Open" selected>Open (New Request)</option>
            <option value="In_Progress">In Progress (Starting Work)</option>
            <option value="Fixed">Fixed (Completed)</option>
            <option value="Deferred">Deferred (Later)</option>
        </select>
    </div>
    
    <div style="display: flex; gap: 10px; align-items: center; margin-top: 20px;">
        <button type="submit" class="btn btn-warning">ðŸ”§ Add Maintenance Record</button>
        <a href="{{ url_for('game_detail', game_id=game.id) }}" class="btn" style="background: #6c757d; color: white; text-decoration: none;">Cancel</a>
    </div>
</form>
{% endblock %}